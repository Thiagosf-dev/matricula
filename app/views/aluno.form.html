<form name="form">
    <p class="lead font-weight-normal text-lg-left font-weight-lighter text-dark mb-4 mt-5">Cadastro de Aluno</p>

    <div class="form-row">
        <!-- NOME -->
        <div class="form-group col-md-6">
            <label clas="col-form-label-sm" for="nomeInput">Nome</label>
            <input type="test" class="form-control focus form-control-sm border-0" id="nomeInput" name="nomeInput"
                ng-required="true" ng-minlength="5" ng-model="vm.aluno.nome">
            <div class="alert p-0 m-0 rounded-0 border-0 h-auto" style="font-size: 14px;"
                ng-messages="form.nomeInput.$error">
                <span ng-message="required"
                    class="font-italic font-weight-light text-muted text-decoration-none ml-1">Campo obrigatório
                </span>
                <span ng-message="minlength" class="font-italic font-weight-light text-muted text-decoration-none ml-1">
                    Campo deve ter pelo menos 5 caracteres
                </span>
            </div>
        </div>

        <!-- CPF -->
        <div class="form-group col-md-6">
            <label clas="col-form-label-sm" for="cpfInput">
                CPF
            </label>
            <input type="text" class="form-control form-control-sm border-0" id="cpfInput" name="cpfInput"
                ng-required="true" ui-mask="999.999.999-99" ui-mask-placeholder ng-cpf ui-mask-placeholder-char="_"
                clean="true" ng-model="vm.aluno.cpf">
            <div class="alert p-0 m-0 rounded-0 border-0 h-auto" style="font-size: 14px;"
                ng-messages="form.cpfInput.$error">
                <span ng-message="required" class="font-italic font-weight-light text-muted text-decoration-none ml-1">
                    Campo obrigatório
                </span>
                <span ng-message="mask" class="font-italic font-weight-light text-muted text-decoration-none ml-1">
                    Campo não está no formato correto
                </span>
                <span ng-message="cpf" class="font-italic font-weight-light text-muted text-decoration-none ml-1">
                    CPF inválido
                </span>
            </div>
        </div>
    </div>

    <div class="form-row">
        <!-- EMAIL -->
        <div class="form-group col-md-6">
            <label clas="col-form-label-sm" for="emailInput">
                Email
            </label>
            <input type="text" class="form-control form-control-sm border-0" id="emailInput" name="emailInput"
                ng-required="true" ng-pattern="/^[a-z]+[a-z0-9._-]+@[a-z]+\.[a-z.]{2}/" ng-model="vm.aluno.email">
            <div class="alert p-0 m-0 rounded-0 border-0 h-auto" style="font-size: 14px;"
                ng-messages="form.emailInput.$error">
                <span ng-message="required" class="font-italic font-weight-light text-muted text-decoration-none ml-1">
                    Campo obrigatório
                </span>
                <span ng-message="pattern" class="font-italic font-weight-light text-muted text-decoration-none ml-1">
                    Campo não está no formato correto
                </span>
            </div>
        </div>

        <!-- TELEFONE -->
        <div class="form-group col-md-6">
            <label clas="col-form-label-sm" for="telefoneInput">Telefone</label>
            <input type="test" class="form-control focus form-control-sm border-0" id="telefoneInput"
                name="telefoneInput" ng-required="true" ui-mask="(99) 99999 - 9999" ui-mask-placeholder
                ui-mask-placeholder-char="_" clean="true" ng-model="vm.aluno.telefone">
            <div class="alert p-0 m-0 rounded-0 border-0 h-auto" style="font-size: 14px;"
                ng-messages="form.telefoneInput.$error">
                <span ng-message="required"
                    class="font-italic font-weight-light text-muted text-decoration-none ml-1">Campo obrigatório
                </span>
            </div>
        </div>
    </div>

    <div class="form-row">
        <!-- CEP -->
        <div class="form-group col-md-3">
            <label clas="col-form-label-sm" for="cep">Cep</label>
            <div class="input-group input-group-sm mb-2">
                <div class="input-group-prepend">
                    <div class="btn btn-dark rounded"
                        style="padding: 5px; display: list-item; width: 50px; font-size: small;"
                        ng-click="vm.buscarCep()" title="Pesquisar">
                        <i class="fas fa-search-location"></i>
                    </div>
                </div>
                <input type="text" maxlength="8" onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                    class="form-control form-control-sm border-0" id="cep" var
                    localidadePadrao=angular.copy(vm.estados[6]);
                    ng-keypress="($event.charCode==13)? vm.buscarCep() : return" ng-model="vm.aluno.cep">
            </div>
        </div>

        <!-- CIDADE -->
        <div class="form-group col-md-5">
            <label clas="col-form-label-sm" for="cidade">Cidade</label>
            <input type="text" class="form-control form-control-sm border-0" id="cidade" ng-model="vm.aluno.cidade">
        </div>

        <!-- ESTADO -->
        <div class="form-group col-md-4">
            <label clas="col-form-label-sm" for="estadoSelect">Estado</label>
            <select id="estadoSelect" class="form-control form-control-sm border-0" ng-model="vm.aluno.estado"
                ng-options="estado as estado.nome + ' (' + estado.sigla + ')' for estado in vm.estados | orderBy : 'nome' track by estado.sigla">
                <option value="">Selecione uma estado</option>
            </select>
        </div>
    </div>

    <div class="form-row">
        <!-- LOGRADOURO -->
        <div class="form-group col-md-4">
            <label clas="col-form-label-sm" for="logradouroInput">Logradouro</label>
            <input type="text" class="form-control form-control-sm border-0" id="logradouroInput"
                ng-model="vm.aluno.logradouro">
        </div>

        <!-- NÚMERO -->
        <div class="form-group col-md-1">
            <label clas="col-form-label-sm" for="numeroInput">Número</label>
            <input type="text" ui-mask="?9?9?9?9?9" ui-mask-placeholder-char=" "
                class="form-control form-control-sm border-0" id="numeroInput" ng-model="vm.aluno.numero">
        </div>

        <!-- BAIRRO -->
        <div class="form-group col-md-4">
            <label clas="col-form-label-sm" for="bairroInput">Bairro</label>
            <input type="text" class="form-control form-control-sm border-0" id="bairroInput"
                ng-model="vm.aluno.bairro">
        </div>

        <!-- COMPLEMENTO -->
        <div class="form-group col-md-3">
            <label clas="col-form-label-sm" for="complementoInput">Complemento</label>
            <input type="text" class="form-control form-control-sm border-0" id="complementoInput"
                ng-model="vm.aluno.complemento">
        </div>
    </div>

    <div class="form-group my-4 mb-5">
        <div class="custom-control custom-checkbox">
            <input class="custom-control-input" type="checkbox" id="gridCheck" ng-model="vm.aluno.jaFezCurso">
            <label class="custom-control-label" for="gridCheck">
                Já realizou outro curso
            </label>
        </div>
    </div>

    <!-- BOTÕES -->
    <span ng-show="form.$invalid && form.$error" class="d-inline-block" tabindex="0" data-toggle="tooltip"
        data-html="true" title="Preencha todos os campos obrigatórios corretamente">
        <button type="button" class="btn btn-primary btn-sm px-5 text-uppercase shadow-lg" data-toggle="modal"
            data-target="#modalSalvar" style="pointer-events: none;" disabled>
            <i class="fas fa-save mr-2"></i>
            salvar
        </button>
    </span>
    <button ng-show="form.$valid" type="button" class="btn btn-primary btn-sm px-5 text-uppercase shadow-lg"
        data-toggle="modal" data-target="#modalSalvar" data-toggle="tooltip" data-placement="top" data-html="true"
        title="Salvar todos os dados informados">
        <i class="fas fa-save mr-2"></i>
        salvar
    </button>

    <button class="btn btn-info btn-sm px-5 mx-2 text-uppercase shadow-lg" data-toggle="modal"
        data-target="#modalLimpar" data-toggle="tooltip" data-placement="top" data-html="true"
        title="Limpa todos os campos">
        <i class="fas fa-eraser mr-2"></i>
        limpar
    </button>

    <a id="myTooltip" class="btn btn-secondary btn-sm px-5 text-uppercase shadow-lg" href="#/alunos"
        data-toggle="tooltip" data-placement="top" data-html="true" title="Volta para a tela de <b>Lista Alunos</b>">
        <i class="fas fa-window-close mr-2"></i>
        cancelar
    </a>
</form>

<!-- Modal de Confirmação -->
<div class="modal fade clearfix keyboard-focused" data-backdrop="static" id="modalSalvar" tabindex="-1" role="dialog"
    aria-labelledby="TituloModalCentralizado" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document" keyboard="false">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="TituloModalCentralizado" ng-if="!vm.isEdicao">
                    Confirmar inclusão
                </h5>
                <h5 class="modal-title" id="TituloModalCentralizado" ng-if="vm.isEdicao">
                    Confirmar alteração
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" ng-if="!vm.isEdicao">
                Tem certeza que deseja salvar os dados informados ?
            </div>
            <div class="modal-body" ng-if="vm.isEdicao">
                Tem certeza que deseja alterar os dados informados ?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" ng-click="vm.salvar();">
                    Salvar
                </button>
                <button type="button" class="btn btn-secondary focus" data-dismiss="modal">Cancelar</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Limpar -->
<div class="modal fade clearfix keyboard-focused" data-backdrop="static" id="modalLimpar" tabindex="-1" role="dialog"
    aria-labelledby="TituloModalCentralizado" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document" keyboard="false">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="TituloModalCentralizado">
                    Confirmar ação
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Tem certeza que deseja limpar todos os campos e perder todas as informações digitadas ?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary"
                    ng-click="vm.confirmarLimparCampos(); form.$setPristine();">
                    Sim
                </button>
                <button type="button" class="btn btn-secondary focus" data-dismiss="modal">
                    Não
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Loading -->
<div class="modal" data-backdrop="static" id="modalLoading">
    <div class="modal-dialog modal-dialog-centered modal-sm" role="document" keyboard="false">
        <div class="modal-content bg-dark">
            <div class="modal-body">
                <div class="d-flex align-items-sm-center justify-content-between">
                    <i class="text-white">Processando, por favor aguarde.....</i>
                    <div class="spinner-border spinner-border-sm text-primary" role="status">
                        <span class="sr-only"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>